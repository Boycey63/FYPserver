{"version":3,"sources":["../../src/models/dbDeletes.js"],"names":["express","require","mysql","router","Router","pool","createPool","host","user","password","database","post","req","res","userID","body","getConnection","err","connection","query","json","release","companyID","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,QAAQD,QAAQ,OAAR,CAAd;AACA,IAAME,SAASH,QAAQI,MAAR,EAAf;;AAEA;AACA,IAAIC,OAAOH,MAAMI,UAAN,CAAiB;AACxBC,UAAM,WADkB;AAExBC,UAAM,MAFkB;AAGxBC,cAAU,UAHc;AAIxBC,cAAU;AAJc,CAAjB,CAAX;;AAOA;AACAP,OAAOQ,IAAP,CAAY,UAAZ,EAAwB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACvC,QAAIC,SAASF,IAAIG,IAAJ,CAASD,MAAtB;AACAT,SAAKW,aAAL,CAAmB,UAASC,GAAT,EAAcC,UAAd,EAA0B;AACzCA,mBAAWC,KAAX,CAAiB,oCAAjB,EAAuD,CAACL,MAAD,CAAvD,EAAiE,UAAUG,GAAV,EAAe;AAC5E,gBAAI,CAACA,GAAL,EAAU;AACNJ,oBAAIO,IAAJ,CAAS,SAAT;AACH,aAFD,MAEK;AACDP,oBAAIO,IAAJ,CAASH,GAAT;AACH;AACDC,uBAAWG,OAAX;AACH,SAPD;AAQH,KATD;AAUH,CAZD;;AAcA;AACAlB,OAAOQ,IAAP,CAAY,WAAZ,EAAyB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACxC,QAAIS,YAAYV,IAAIG,IAAJ,CAASO,SAAzB;AACAjB,SAAKW,aAAL,CAAmB,UAASC,GAAT,EAAcC,UAAd,EAA0B;AACzCA,mBAAWC,KAAX,CAAiB,2CAAjB,EAA8D,CAACG,SAAD,CAA9D,EAA2E,UAAUL,GAAV,EAAe;AACtF,gBAAI,CAACA,GAAL,EAAU;AACNJ,oBAAIO,IAAJ,CAAS,SAAT;AACH,aAFD,MAEK;AACDP,oBAAIO,IAAJ,CAASH,GAAT;AACH;AACDC,uBAAWG,OAAX;AACH,SAPD;AAQH,KATD;AAUH,CAZD;;AAcAE,OAAOC,OAAP,GAAiBrB,MAAjB","file":"dbDeletes.js","sourcesContent":["const express = require('express');\nconst mysql = require('mysql');\nconst router = express.Router();\n\n//Data used to create connection to the database\nlet pool = mysql.createPool({\n    host: '127.0.0.1',\n    user: 'root',\n    password: 'TLGjb18!',\n    database: 'LittleGuys1'\n});\n\n//Deletes a specific user account from the Users table\nrouter.post('/account', function(req, res) {\n    let userID = req.body.userID;\n    pool.getConnection(function(err, connection) {\n        connection.query(\"DELETE FROM Users WHERE userID = ?\", [userID], function (err) {\n            if (!err) {\n                res.json('success');\n            }else{\n                res.json(err);\n            }\n            connection.release();\n        });\n    });\n});\n\n//Deletes a specific business from the Business table\nrouter.post('/business', function(req, res) {\n    let companyID = req.body.companyID;\n    pool.getConnection(function(err, connection) {\n        connection.query(\"DELETE FROM Business WHERE businessID = ?\", [companyID], function (err) {\n            if (!err) {\n                res.json('success');\n            }else{\n                res.json(err);\n            }\n            connection.release();\n        });\n    });\n});\n\nmodule.exports = router;"]}